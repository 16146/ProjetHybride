{"version":3,"sources":["./src/app/categories/categories.page.html","./src/app/categories/categories-routing.module.ts","./src/app/categories/categories.module.ts","./src/app/categories/categories.page.scss","./src/app/categories/categories.page.ts"],"names":[],"mappings":"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","file":"categories-categories-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Liste des catégories</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n\\n<ion-content>\\n  <ion-row>\\n        <ion-col>\\n          <ion-button type=\\\"submit\\\" color=\\\"danger\\\" expand=\\\"block\\\" [routerLink]=\\\"['/add-category']\\\">Ajouter une nouvelle catégorie</ion-button>\\n        </ion-col>\\n    </ion-row>\\n  <ion-list>\\n\\n    <ion-searchbar showCancelButton=\\\"never\\\" (ionChange)=\\\"filterList($event)\\\"></ion-searchbar>\\n\\n    <ion-item *ngFor=\\\"let cr of classrooms\\\">\\n        <ion-item-sliding>\\n      <ion-icon name=\\\"bookmark\\\" slot=\\\"start\\\"></ion-icon>\\n      {{cr.name}}\\n      <div class=\\\"item-note\\\" slot=\\\"end\\\">\\n          <ion-item-options>\\n        <button ion-button color=\\\"light\\\" routerLink=\\\"/categories/{{cr.id}}\\\">Editer</button>\\n        &nbsp;\\n        <button ion-button color=\\\"light\\\" (click)=\\\"delete(cr.id)\\\">Supprimer</button>\\n          </ion-item-options>\\n      </div>\\n    </ion-item-sliding>\\n    </ion-item>\\n  </ion-list>\\n  <!--\\n    <div *ngIf=\\\"selectedItem\\\" padding>\\n      You navigated here from <b>{{selectedItem.title }}</b>\\n    </div>\\n  -->\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoriesPage } from './categories.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoriesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoriesPageRoutingModule } from './categories-routing.module';\n\nimport { CategoriesPage } from './categories.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    CategoriesPageRoutingModule\n  ],\n  declarations: [CategoriesPage]\n})\nexport class CategoriesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, Injectable, Inject, forwardRef } from '@angular/core';\nimport { RestApiService } from '../rest-api.service';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LoadingController } from '@ionic/angular';\nimport { HttpClient, HttpHeaders, HttpErrorResponse,HttpClientModule } from '@angular/common/http';\nimport { FormControl, FormGroupDirective, FormBuilder, FormGroup, NgForm, Validators, FormArray } from '@angular/forms';\nimport { ActivatedRoute, Router  } from '@angular/router';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.page.html',\n  styleUrls: ['./categories.page.scss'],\n})\n//Inspiré de https://www.positronx.io/ionic-form-validation-tutorial/\n\nexport class CategoriesPage implements OnInit {\n\n\n  categories: FormArray;\n\n  isSubmitted = false;\n\n  \n  ngOnInit() {\n    this.getClassrooms();\n  }\n\n  classrooms : any;\n  preservedclassrooms : any;\n  category : any;\n  async getClassrooms() {\n    const loading = await this.loadingController.create({\n      message: 'Loading'\n    });\n    await loading.present();\n    await this.api.getClassroom()\n      .subscribe(res => {\n        console.log(res);\n        this.preservedclassrooms =res;\n        this.classrooms = res;\n        loading.dismiss();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n      });\n  }\n  async delete(id) {\n    const loading = await this.loadingController.create({\n      message: 'Deleting'\n    });\n    await loading.present();\n    await this.api.deleteClassroom(id)\n      .subscribe(res => {\n        loading.dismiss();\n        this.getClassrooms();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n      });\n  }\n  constructor(@Inject(forwardRef(() => RestApiService)) public api: RestApiService, public loadingController: LoadingController) {\n    console.log(api);\n    this.getClassrooms();\n   }\n   ionViewWillEnter(){\n    this.api.getClassroom().subscribe(res => this.classrooms = res);\n    }\n\n    filterList(evt) {\n      const val = evt.detail.value;\n      this.classrooms= this.preservedclassrooms;\n      if (val && val.trim() !== '') {\n        this.classrooms = this.classrooms.filter(term => {\n          return term.name.toLowerCase().indexOf(val.trim().toLowerCase()) > -1;\n        });\n      }\n      if (val.trim()==''){\n        this.classrooms= this.preservedclassrooms;\n      }\n    }\n}\n"],"sourceRoot":"webpack:///"}