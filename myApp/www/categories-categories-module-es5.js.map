{"version":3,"sources":["src/app/categories/categories.page.html","src/app/categories/categories-routing.module.ts","src/app/categories/categories.module.ts","src/app/categories/categories.page.scss","src/app/categories/categories.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Liste des catégories</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n\\n<ion-content>\\n  <ion-row>\\n        <ion-col>\\n          <ion-button type=\\\"submit\\\" color=\\\"danger\\\" expand=\\\"block\\\" [routerLink]=\\\"['/add-category']\\\">Ajouter une nouvelle catégorie</ion-button>\\n        </ion-col>\\n    </ion-row>\\n  <ion-list>\\n\\n    <ion-searchbar showCancelButton=\\\"never\\\" (ionChange)=\\\"filterList($event)\\\"></ion-searchbar>\\n\\n    <ion-item *ngFor=\\\"let cr of classrooms\\\">\\n        <ion-item-sliding>\\n      <ion-icon name=\\\"bookmark\\\" slot=\\\"start\\\"></ion-icon>\\n      {{cr.name}}\\n      <div class=\\\"item-note\\\" slot=\\\"end\\\">\\n          <ion-item-options>\\n        <button ion-button color=\\\"light\\\" routerLink=\\\"/categories/{{cr.id}}\\\">Editer</button>\\n        &nbsp;\\n        <button ion-button color=\\\"light\\\" (click)=\\\"delete(cr.id)\\\">Supprimer</button>\\n          </ion-item-options>\\n      </div>\\n    </ion-item-sliding>\\n    </ion-item>\\n  </ion-list>\\n  <!--\\n    <div *ngIf=\\\"selectedItem\\\" padding>\\n      You navigated here from <b>{{selectedItem.title }}</b>\\n    </div>\\n  -->\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoriesPage } from './categories.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoriesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoriesPageRoutingModule } from './categories-routing.module';\n\nimport { CategoriesPage } from './categories.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    CategoriesPageRoutingModule\n  ],\n  declarations: [CategoriesPage]\n})\nexport class CategoriesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, Injectable, Inject, forwardRef } from '@angular/core';\nimport { RestApiService } from '../rest-api.service';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LoadingController } from '@ionic/angular';\nimport { HttpClient, HttpHeaders, HttpErrorResponse,HttpClientModule } from '@angular/common/http';\nimport { FormControl, FormGroupDirective, FormBuilder, FormGroup, NgForm, Validators, FormArray } from '@angular/forms';\nimport { ActivatedRoute, Router  } from '@angular/router';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.page.html',\n  styleUrls: ['./categories.page.scss'],\n})\n//Inspiré de https://www.positronx.io/ionic-form-validation-tutorial/\n\nexport class CategoriesPage implements OnInit {\n\n\n  categories: FormArray;\n\n  isSubmitted = false;\n\n  \n  ngOnInit() {\n    this.getClassrooms();\n  }\n\n  classrooms : any;\n  preservedclassrooms : any;\n  category : any;\n  async getClassrooms() {\n    const loading = await this.loadingController.create({\n      message: 'Loading'\n    });\n    await loading.present();\n    await this.api.getClassroom()\n      .subscribe(res => {\n        console.log(res);\n        this.preservedclassrooms =res;\n        this.classrooms = res;\n        loading.dismiss();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n      });\n  }\n  async delete(id) {\n    const loading = await this.loadingController.create({\n      message: 'Deleting'\n    });\n    await loading.present();\n    await this.api.deleteClassroom(id)\n      .subscribe(res => {\n        loading.dismiss();\n        this.getClassrooms();\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n      });\n  }\n  constructor(@Inject(forwardRef(() => RestApiService)) public api: RestApiService, public loadingController: LoadingController) {\n    console.log(api);\n    this.getClassrooms();\n   }\n   ionViewWillEnter(){\n    this.api.getClassroom().subscribe(res => this.classrooms = res);\n    }\n\n    filterList(evt) {\n      const val = evt.detail.value;\n      this.classrooms= this.preservedclassrooms;\n      if (val && val.trim() !== '') {\n        this.classrooms = this.classrooms.filter(term => {\n          return term.name.toLowerCase().indexOf(val.trim().toLowerCase()) > -1;\n        });\n      }\n      if (val.trim()==''){\n        this.classrooms= this.preservedclassrooms;\n      }\n    }\n}\n"],"sourceRoot":"webpack:///","file":"categories-categories-module-es5.js"}